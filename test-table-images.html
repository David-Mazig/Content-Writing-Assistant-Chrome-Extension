<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page - Tables with Images</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
        }
        h1 { color: #333; }
        h2 { color: #555; margin-top: 40px; }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f5f5f5;
        }
        img {
            max-width: 100px;
            height: auto;
        }
        .small-icon {
            width: 20px;
            height: 20px;
        }
        .medium-icon {
            width: 40px;
            height: 40px;
        }
        .content-image {
            width: 80px;
            height: 80px;
        }
        p { line-height: 1.6; }
    </style>
</head>
<body>
    <h1>Test Page: Tables with Embedded Images</h1>
    <p>This page is for testing the Content Writing Assistant's ability to save tables that contain embedded images.</p>

    <h2>Test 1: Table with Content Images (should be captured)</h2>
    <table id="table-with-images">
        <thead>
            <tr>
                <th>Name</th>
                <th>Logo</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>GitHub</td>
                <td><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" class="content-image"></td>
                <td>Code hosting platform for version control</td>
            </tr>
            <tr>
                <td>Wikipedia</td>
                <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/200px-Wikipedia-logo-v2.svg.png" alt="Wikipedia Logo" class="content-image"></td>
                <td>Free online encyclopedia</td>
            </tr>
            <tr>
                <td>Stack Overflow</td>
                <td><img src="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png" alt="Stack Overflow Logo" class="content-image"></td>
                <td>Q&A site for programmers</td>
            </tr>
        </tbody>
    </table>

    <h2>Test 2: Plain Text Table (no images)</h2>
    <table id="table-no-images">
        <thead>
            <tr>
                <th>Language</th>
                <th>Type System</th>
                <th>Paradigm</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>JavaScript</td>
                <td>Dynamic</td>
                <td>Multi-paradigm</td>
            </tr>
            <tr>
                <td>TypeScript</td>
                <td>Static</td>
                <td>Multi-paradigm</td>
            </tr>
            <tr>
                <td>Python</td>
                <td>Dynamic</td>
                <td>Multi-paradigm</td>
            </tr>
        </tbody>
    </table>

    <h2>Test 3: Table with Small Icons (should be filtered out - under 30x30px)</h2>
    <table id="table-small-icons">
        <thead>
            <tr>
                <th>Status</th>
                <th>Icon</th>
                <th>Message</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Success</td>
                <td><img src="https://www.google.com/favicon.ico" alt="Checkmark" class="small-icon"></td>
                <td>Operation completed successfully</td>
            </tr>
            <tr>
                <td>Warning</td>
                <td><img src="https://www.bing.com/favicon.ico" alt="Warning" class="small-icon"></td>
                <td>Please review the changes</td>
            </tr>
        </tbody>
    </table>

    <h2>Test 4: Table with Mixed Image Sizes</h2>
    <table id="table-mixed-sizes">
        <thead>
            <tr>
                <th>Item</th>
                <th>Small (filtered)</th>
                <th>Medium (filtered)</th>
                <th>Large (captured)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Test Row 1</td>
                <td><img src="https://www.google.com/favicon.ico" alt="Small icon" class="small-icon"></td>
                <td><img src="https://www.google.com/favicon.ico" alt="Medium icon" class="medium-icon"></td>
                <td><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Large image" class="content-image"></td>
            </tr>
            <tr>
                <td>Test Row 2</td>
                <td><img src="https://www.bing.com/favicon.ico" alt="Small icon" class="small-icon"></td>
                <td><img src="https://www.bing.com/favicon.ico" alt="Medium icon" class="medium-icon"></td>
                <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/200px-Wikipedia-logo-v2.svg.png" alt="Large image" class="content-image"></td>
            </tr>
        </tbody>
    </table>

    <h2>Instructions for Manual Testing</h2>
    <ol>
        <li>Load the Content Writing Assistant extension</li>
        <li>Hover over each table for 1 second to see the save popover</li>
        <li>Verify the popover shows correct image count</li>
        <li>Click "Save" and observe progress feedback</li>
        <li>Open the extension popup to verify saved content</li>
    </ol>

    <h2>Expected Results</h2>
    <ul>
        <li><strong>Test 1:</strong> Should show "Table: 3 rows, 3 images" and save all 3 images</li>
        <li><strong>Test 2:</strong> Should show "Table: 3 rows" (no image count) and save normally</li>
        <li><strong>Test 3:</strong> Should show "Table: 2 rows" (icons filtered out at 30x30 threshold)</li>
        <li><strong>Test 4:</strong> Should show "Table: 2 rows, 2 images" (only large images captured)</li>
    </ul>
</body>
</html>
